# config-repo/application-docker.yml

eureka:
  client:
    service-url:
      defaultZone: http://service-registry:8761/eureka/

spring:
  datasource:
    url: jdbc:mysql://mysql:3306/userdb?useSSL=false&allowPublicKeyRetrieval=true
    username: root
    password: root

  kafka:
    bootstrap-servers: kafka:9092
  security:
    filter:
      permitAll:
        - /v3/api-docs/**
        - /swagger-ui.html
        - /swagger-ui/**
        - /webjars/**
        - /favicon.ico
        - /actuator/health

logging:
  level:
    com.example: DEBUG
    org.springframework: INFO
    reactor.netty: INFO

security:
  shared:
    permit-all:
      - /actuator/**
      - /v3/api-docs/**
      - /swagger-ui.html
      - /swagger-ui/**
      - /webjars/**
      - /favicon.ico

      # âœ… IMPORTANT: allow docs behind gateway prefixes
      - /auth/v3/api-docs
      - /auth/v3/api-docs/**
      - /users/v3/api-docs
      - /users/v3/api-docs/**
      - /inventory/v3/api-docs
      - /inventory/v3/api-docs/**
      - /qr/v3/api-docs
      - /qr/v3/api-docs/**

      # keep if you want login/register public
      - /api/auth/**
